# C++ 八股

所有的答案要建立在理解之上，否则稍微深入展开就回答不上来了。

## C++基础
1. 智能指针  
- 为什么要使用智能指针  
方便管理指针，避免例如因为指针忘记释放造成内存泄露的问题。  
当使用智能指针管理时，超出了智能指针的作用域，智能指针会调用析构函数，不需要我们自己手动释放内存空间。

- 常用接口
    ```
    T* get(); //返回指针封装内部的指针

    T& operator*();
    T* operator->();
    T& operator=(const T& val);
    
    T* release(); // 将内部的指针置空，然后返回原指针地址，意思为不再进行管理，交由程序员管理
    
    void reset(T* ptr = nullptr); // 直接释放内部指针的内存，如果指定了ptr的值，将内部指针初始化为该值
    ```

- `auto_ptr` 采用所有权模式，C++98的方案，C++11弃用  
排他所有权模式  
缺点：
    - 复制和赋值都会转移所有权
    - STL容器中使用有风险，因为容器中的元素需要支持可复制和赋值
    - 不支持对象数组的内存管理

- `unique_ptr` 用该指针替代 `auto_ptr`  
排他所有权模式：同时只能有一个指针指向一个地址  
无法用左值赋值和赋值构造，但允许临时右值赋值构造和赋值  

